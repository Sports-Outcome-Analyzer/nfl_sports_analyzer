
<!DOCTYPE html>
<html lang="en">
  <head>
    	<meta charset="utf-8">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <title>NFL Game Predictor</title>
  </head>
  <body>
      <h1> Hello World  </h1>
      <h1>Welcome to NFL Sports Predictor</h1>

     <form action="{{ url_for(function) }}" method="POST">
	    <fieldset>
	        <legend>Filters</legend>
          Week:
          {% if year == 2020: %}
          <input name="week_user_selected" min=1 max={{ week }} type="number" required>
          {% elif year == 2017: %}
          <input name="week_user_selected" min=2 max=17 type="number" required>
          {% else: %}
          <input name="week_user_selected" min=1 max=17 type="number" required>
          {%endif%}
          <input type="submit" value="Submit">
	    </fieldset>
	</form>

      <hr>
      <div>
          {% if selected_week: %}
            <p> Filtered on Week = {{selected_week}} </p>
          {%endif%}
     </div>
      <hr>
      <div class= "games">
        <table style = "width:30%">
            <tr>
                <th> Week </th>
                <th> Home Team </th>
                <th> Away Team </th>
                <th> Model Predicted Winner </th>
                <th> Actual Winner </th>
            </tr>
            {% for row in games.itertuples(index=True, name='Pandas'):%}
                <tr>
                    <td> {{row.Week}}</td>
                    <td> {{row.HomeTeam}}</td>
                    <td> {{row.AwayTeam}}</td>
                    {% if row.PredictHomeTeamWin == 1: %}
                      <td>{{row.HomeTeam}}</td>
                    {% else: %}
                      <td>{{row.AwayTeam}}</td>
                    {%endif%}
                    {% if row.HomeResult == 1: %}
                      <td>{{row.HomeTeam}}</td>
                    {% else: %}
                      <td>{{row.AwayTeam}}</td>
                    {%endif%}
                </tr>
            {% endfor %}
        </table>
      </div>
  </body>
</html>